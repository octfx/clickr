!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("clickr",[],t):"object"==typeof exports?exports.clickr=t():e.clickr=t()}(this,(function(){return function(e){function t(t){for(var i,a,c=t[0],s=t[1],u=t[2],f=0,h=[];f<c.length;f++)a=c[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);for(l&&l(t);h.length;)h.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={0:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=this.webpackJsonpclickr=this.webpackJsonpclickr||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;return r.push([4,1]),n()}([,function(e,t){},,function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(0);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"intervalId",void 0),r(this,"offset",void 0),r(this,"clock",0),r(this,"element",void 0),this.element=t}var t,n,i;return t=e,(n=[{key:"start",value:function(){this.reset(),void 0===this.intervalId&&(this.offset=Date.now(),this.intervalId=setInterval(this.update.bind(this),1))}},{key:"stop",value:function(){void 0!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)}},{key:"reset",value:function(){this.clock=0,this.render()}},{key:"getTime",value:function(){return this.clock}},{key:"update",value:function(){this.clock+=this.delta(),this.render()}},{key:"render",value:function(){this.element.innerText=String(this.clock/1e3)}},{key:"delta",value:function(){var e=Date.now(),t=e-this.offset;return this.offset=e,t}}])&&o(t.prototype,n),i&&o(t,i),e}();function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"timer",void 0),s(this,"timerContainer",void 0),s(this,"counter",void 0),s(this,"counterMax",void 0),this.timerContainer=document.getElementById("timer"),this.timer=new a(this.timerContainer),this.counter=document.getElementById("counter"),this.counterMax=document.getElementById("counterMax")}var t,n,i;return t=e,(n=[{key:"updateCounter",value:function(e,t){this.counter.innerText=String(e),this.counterMax.innerText=String(t)}}])&&c(t.prototype,n),i&&c(t,i),e}(),l=new i.Point(0,0);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.freeze(l);var b,m,w,g=function(e){function t(){return h(this,t),v(this,d(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,r=[{key:"getInstance",value:function(e){var n=new t(l,t.SIZE);n.fillColor=e.color,n.strokeScaling=!1,n.strokeColor=n.fillColor.clone(),n.strokeColor.hue-=180,n.strokeWidth=2;var o=function(e,t,n){return Math.min(Math.max(e,t),n)};return n.position=new i.Point(o(Math.floor(Math.random()*e.viewSize.width),25,e.viewSize.width-25),o(Math.floor(Math.random()*e.viewSize.height),35,e.viewSize.height-25)),n.onClick=function(){e.onClick(n)},n.onDoubleClick=n.onClick,n.onFrame=function(t){e.onFrame(n,t)},n}}],(o=null)&&p(n.prototype,o),r&&p(n,r),t}(i.Path.Circle);function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}w=10,(m="SIZE")in(b=g)?Object.defineProperty(b,m,{value:w,enumerable:!0,configurable:!0,writable:!0}):b[m]=w;var _=function(){function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,"viewSize",void 0),C(this,"circles",void 0),C(this,"circleCount",void 0),C(this,"infoDisplay",void 0),C(this,"view",void 0),C(this,"done",!1),C(this,"_color",void 0),this.circleCount=t,this.viewSize=n,this.infoDisplay=o,this.view=r,this.circles=new Map,this._color=i.Color.random(),this._color.alpha=.5}var t,n,o;return t=e,(n=[{key:"new",value:function(e){"number"==typeof e&&(this.circleCount=e),this.circles.clear(),this.infoDisplay.timer.reset(),this._color=i.Color.random()}},{key:"onFrame",value:function(e,t){t.count%10==0&&(e.scaling=e.scaling.add(.1)),e.fillColor.hue+=1,e.strokeColor.hue+=1}},{key:"onFrameInternal",value:function(e){if(!this.done&&(this.circles.size===this.circleCount&&(this.done=!0),e.count%5==0)){var t=g.getInstance(this);this.circles.set(t.id,t),this.view.addChild(t)}}},{key:"start",value:function(){this.infoDisplay.timer.reset(),this.infoDisplay.timer.start(),this.view.onFrame=this.onFrameInternal.bind(this);var e=this.color.clone();e.alpha=.2,document.body.style.backgroundColor=e.toCSS(!1),this.infoDisplay.updateCounter(this.circleCount,this.circleCount)}},{key:"stop",value:function(){console.log("stop"),this.view.onFrame=null,this.infoDisplay.timer.stop(),this.done=!1,document.getElementById("start").classList.remove("hidden")}},{key:"onClick",value:function(e){this.circles.has(e.id)&&(e.tweenTo({scaling:Number.EPSILON,position:e.position},50).start().then((function(){e.remove()})),this.circles.delete(e.id),this.infoDisplay.updateCounter(this.circles.size,this.circleCount)),0===this.circles.size&&this.stop()}},{key:"color",get:function(){return this._color}}])&&k(t.prototype,n),o&&k(t,o),e}();function O(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return j}));var j=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),S(this,"_canvas",void 0),S(this,"_scope",void 0),S(this,"game",void 0),S(this,"button",void 0),this.setupCanvas(),this.setupScope(),this.button=document.getElementById("start"),this.button.addEventListener("click",(function(e){t.game.start(),e.target.classList.add("hidden")}));var n=new u;this.game=new _(30,this._scope.view.viewSize,n,this._scope.project.activeLayer)}var t,n,o;return t=e,(n=[{key:"setupCanvas",value:function(){this._canvas=document.createElement("canvas"),this._canvas.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._canvas.setAttribute("data-paper-resize","true"),this._canvas.setAttribute("tabindex","1"),this._canvas.style["touch-action"]="none",this._canvas.style.outline="none",this._canvas.id="clickr",document.body.appendChild(this._canvas)}},{key:"setupScope",value:function(){this._scope=new i.PaperScope,this._scope.settings.insertItems=!1,this._scope.settings.applyMatrix=!1,this._scope.activate(),this._scope.setup(this.canvas),this._scope.project.view.viewSize=new i.Size(document.body.offsetWidth,document.body.offsetHeight)}},{key:"canvas",get:function(){if(void 0===this._canvas)throw new Error("Canvas not initialized in menu");return this._canvas}}])&&O(t.prototype,n),o&&O(t,o),e}()}])}));